@import url("https://fonts.cdnfonts.com/css/general-sans");

@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties for Theme */
:root {
  --bg-primary: #0a0a1a;
  --bg-secondary: #121225;
  --text-primary: #ffffff;
  --text-secondary: #a0a0b0;
  --accent-primary: #8b5cf6;
  --accent-secondary: #ec4899;
}

:root.light {
  --bg-primary: #f8fafc;
  --bg-secondary: #ffffff;
  --text-primary: #1e293b;
  --text-secondary: #64748b;
  --accent-primary: #7c3aed;
  --accent-secondary: #db2777;
}

/* GPU acceleration for smooth animations */
* {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  width: 100dvw;
  overflow-x: hidden;
  font-family: "General Sans", sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Theme-aware body styles */
:root.dark body {
  background-color: #0a0a1a;
  color: #ffffff;
}

:root.light body {
  background-color: #f8fafc;
  color: #1e293b;
}

@layer base {
  @font-face {
    font-family: "circular-web";
    src: url("/fonts/circularweb-book.woff2") format("woff2");
    font-display: swap;
  }

  @font-face {
    font-family: "general";
    src: url("/fonts/general.woff2") format("woff2");
    font-display: swap;
  }

  @font-face {
    font-family: "robert-medium";
    src: url("/fonts/robert-medium.woff2") format("woff2");
    font-display: swap;
  }

  @font-face {
    font-family: "robert-regular";
    src: url("/fonts/robert-regular.woff2") format("woff2");
    font-display: swap;
  }

  @font-face {
    font-family: "zentry";
    src: url("/fonts/zentry-regular.woff2") format("woff2");
    font-display: swap;
  }
}

@layer utilities {
  .border-hsla {
    @apply border border-white/20;
  }

  .nav-hover-btn {
    @apply relative ms-10 cursor-pointer font-general text-xs uppercase transition-opacity duration-200 hover:opacity-75;
  }

  .nav-hover-btn::after {
    content: '';
    @apply absolute -bottom-0.5 left-0 h-[2px] w-full origin-bottom-right scale-x-0 transition-transform duration-200;
  }

  :root.dark .nav-hover-btn::after {
    @apply bg-white;
  }

  :root.light .nav-hover-btn::after {
    @apply bg-gray-800;
  }

  .nav-hover-btn:hover::after {
    @apply origin-bottom-left scale-x-100;
  }

  .floating-nav {
    @apply rounded-lg border;
  }

  :root.dark .floating-nav {
    @apply bg-black border-white/10;
  }

  :root.light .floating-nav {
    @apply bg-white/90 border-gray-200 shadow-lg backdrop-blur-sm;
  }

  .absolute-center {
    @apply absolute left-1/2 top-1/2 translate-x-[-50%] translate-y-[-50%];
  }

  .flex-center {
    @apply flex items-center justify-center;
  }

  .mask-clip-path {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }

  .special-font b {
    font-family: "Zentry";
    font-feature-settings: "ss01" on;
  }

  .hero-heading {
    @apply font-zentry text-5xl font-black uppercase sm:right-10 sm:text-7xl md:text-9xl lg:text-[12rem];
  }

  .about-subtext {
    @apply absolute bottom-[-80dvh] left-1/2 w-full max-w-96 -translate-x-1/2 text-center font-circular-web text-lg md:max-w-[34rem];
  }

  .about-image {
    @apply absolute left-1/2 top-0 z-20 h-[60vh] w-96 origin-center -translate-x-1/2 overflow-hidden rounded-3xl md:w-[30vw];
  }

  .animated-title {
    @apply flex flex-col gap-1 text-7xl uppercase leading-[.8] sm:px-32 md:text-[6rem];
  }

  :root.dark .animated-title {
    @apply text-white;
  }

  :root.light .animated-title {
    @apply text-gray-800;
  }

  .animated-word {
    @apply special-font font-zentry font-black opacity-0;
    transform: translate3d(10px, 30px, 0) rotateY(20deg);
    will-change: opacity, transform;
  }

  .bento-tilt_1 {
    @apply border-hsla relative col-span-2 overflow-hidden rounded-md transition-transform duration-200 ease-out;
  }

  .bento-tilt_2 {
    @apply relative col-span-1 row-span-1 overflow-hidden rounded-md transition-transform duration-200 ease-out;
  }

  .bento-title {
    @apply font-zentry text-4xl font-black uppercase md:text-6xl;
  }

  .story-img-container {
    @apply relative h-[90vh] w-full md:h-dvh;
    filter: url("#flt_tag");
  }

  .story-img-mask {
    @apply absolute left-0 top-0 size-full overflow-hidden md:left-[20%] md:top-[-10%] md:size-4/5;
    clip-path: polygon(4% 0, 83% 21%, 100% 73%, 0% 100%);
  }

  .story-img-content {
    @apply absolute left-10 top-16 h-[50dvh] w-full opacity-100 md:left-0 md:top-10 md:h-dvh lg:left-[-300px] lg:top-[-100px];
    transform: translate3d(0, 0, 0);
  }

  .gallery-img-container {
    @apply size-64 overflow-hidden bg-violet-300;
  }

  .gallery-img {
    @apply size-full bg-cover;
  }

  .gallery-img-4 {
    @apply rounded-lg sm:size-80 md:h-96 md:w-[25rem];
  }

  .sword-man-clip-path {
    clip-path: polygon(16% 0, 89% 15%, 75% 100%, 0 97%);
  }

  .contact-clip-path-1 {
    clip-path: polygon(25% 0%, 74% 0, 69% 64%, 34% 73%);
  }

  .contact-clip-path-2 {
    clip-path: polygon(29% 15%, 85% 30%, 50% 100%, 10% 64%);
  }

  /* Text truncation */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* Optimized indicator animation */
.indicator-line {
  @apply h-[4px] w-px rounded-full transition-all duration-200 ease-in-out;
}

:root.dark .indicator-line {
  @apply bg-white;
}

:root.light .indicator-line {
  @apply bg-gray-800;
}

.indicator-line.active {
  animation: indicator-line 0.5s ease infinite;
  animation-delay: calc(var(--animation-order) * 0.1s);
}

@keyframes indicator-line {

  0%,
  100% {
    height: 4px;
    transform: translateY(0);
  }

  50% {
    height: 16px;
    transform: translateY(-4px);
  }
}

/* Shimmer animation for card accents */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100%);
  }
}

.animate-shimmer {
  animation: shimmer 2s ease-in-out infinite;
}

/* Floating animation */
@keyframes float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* Glow pulse animation */
@keyframes glow-pulse {

  0%,
  100% {
    opacity: 0.5;
    filter: blur(20px);
  }

  50% {
    opacity: 0.8;
    filter: blur(30px);
  }
}

.animate-glow-pulse {
  animation: glow-pulse 3s ease-in-out infinite;
}

/* Optimized loading spinner */
.three-body {
  --uib-size: 35px;
  --uib-speed: 0.8s;
  --uib-color: #8b5cf6;
  position: relative;
  display: inline-block;
  height: var(--uib-size);
  width: var(--uib-size);
  animation: spin78236 calc(var(--uib-speed) * 2.5) infinite linear;
  will-change: transform;
}

.three-body__dot {
  position: absolute;
  height: 100%;
  width: 30%;
}

.three-body__dot:after {
  content: "";
  position: absolute;
  height: 0%;
  width: 100%;
  padding-bottom: 100%;
  background-color: var(--uib-color);
  border-radius: 50%;
}

.three-body__dot:nth-child(1) {
  bottom: 5%;
  left: 0;
  transform: rotate(60deg);
  transform-origin: 50% 85%;
}

.three-body__dot:nth-child(1)::after {
  bottom: 0;
  left: 0;
  animation: wobble1 var(--uib-speed) infinite ease-in-out;
  animation-delay: calc(var(--uib-speed) * -0.3);
}

.three-body__dot:nth-child(2) {
  bottom: 5%;
  right: 0;
  transform: rotate(-60deg);
  transform-origin: 50% 85%;
}

.three-body__dot:nth-child(2)::after {
  bottom: 0;
  left: 0;
  animation: wobble1 var(--uib-speed) infinite calc(var(--uib-speed) * -0.15) ease-in-out;
}

.three-body__dot:nth-child(3) {
  bottom: -5%;
  left: 0;
  transform: translateX(116.666%);
}

.three-body__dot:nth-child(3)::after {
  top: 0;
  left: 0;
  animation: wobble2 var(--uib-speed) infinite ease-in-out;
}

@keyframes spin78236 {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

@keyframes wobble1 {

  0%,
  100% {
    transform: translateY(0%) scale(1);
    opacity: 1;
  }

  50% {
    transform: translateY(-66%) scale(0.65);
    opacity: 0.8;
  }
}

@keyframes wobble2 {

  0%,
  100% {
    transform: translateY(0%) scale(1);
    opacity: 1;
  }

  50% {
    transform: translateY(66%) scale(0.65);
    opacity: 0.8;
  }
}

/* Theme transition */
.theme-transition {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .animated-word {
    opacity: 1 !important;
    transform: none !important;
  }

  .three-body {
    animation: none;
  }

  .indicator-line.active {
    animation: none;
    height: 12px;
  }
}

/* Mobile optimizations */
@media (max-width: 768px) {

  /* Reduce blur on mobile for better performance */
  .blur-3xl {
    filter: blur(32px);
  }

  .blur-2xl {
    filter: blur(24px);
  }

  .blur-xl {
    filter: blur(12px);
  }

  /* Simplify backdrop blur on mobile */
  .backdrop-blur-xl,
  .backdrop-blur-lg,
  .backdrop-blur-sm {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  /* Reduce shadow complexity */
  .shadow-2xl {
    box-shadow: 0 10px 25px -5px rgb(0 0 0 / 0.25);
  }
}

/* Hardware acceleration for commonly animated elements */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

/* Optimize image rendering */
img {
  content-visibility: auto;
}

/* Optimize video rendering */
video {
  content-visibility: auto;
}

/* Google Form iframe styling */
iframe {
  border: none !important;
  background: transparent;
}

:root.light iframe {
  background: #ffffff;
}